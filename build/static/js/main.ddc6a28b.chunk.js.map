{"version":3,"sources":["services/persons.js","components/Person.js","components/Persons.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["axios","get","then","response","data","newObject","post","person","delete","Person","persons","setPersons","setNotificationPersonAndType","id","onClick","window","confirm","personService","filter","p","setTimeout","e","console","log","confirmDeletePerson","Persons","personsToShow","map","key","name","PersonForm","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","personObject","number","undefined","find","element","returnedPerson","concat","alert","value","onChange","target","type","Notification","props","messageEnd","backgroundColor","notificationStyle","color","background","fontSize","borderRadius","padding","marginBottom","boxShadow","style","App","useState","newFilter","setNewFilter","notificationPersonAndType","useEffect","intitialPersons","toLowerCase","includes","ReactDOM","render","notes","document","getElementById"],"mappings":"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","file":"static/js/main.ddc6a28b.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/notes'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = ({person}) => {\r\n  // console.log(person['id'])\r\n  axios.delete(`${baseUrl}/${person['id']}`)\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }","import React from 'react'\r\nimport personService from './../services/persons'\r\n//import Notification from './Notification'\r\n\r\n\r\n\r\n\r\nconst Person = ({person, persons, setPersons, setNotificationPersonAndType}) => {\r\n    const id = person['id']\r\n    //const name = person['name']\r\n\r\n    const confirmDeletePerson = () => {\r\n        if (window.confirm(`Delete ${person['name']}`)) { \r\n            try {\r\n                personService\r\n                    .deletePerson({person})\r\n                // console.log('deleted')\r\n                setPersons(persons.filter(p => p.id !== id))\r\n                setNotificationPersonAndType([person, 'removed'])\r\n                setTimeout(() => {\r\n                    setNotificationPersonAndType([null, null])\r\n                }, 3000)\r\n\r\n            } catch (e) {\r\n                console.log(`Request failed ${e}`)\r\n            }\r\n            \r\n        } else {\r\n            console.log('not deleted')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li>\r\n            {person['name']}\r\n            &nbsp;\r\n            {person['number']} \r\n            &nbsp;\r\n            <button onClick={() => confirmDeletePerson()}>delete</button>\r\n        </li>\r\n    )\r\n    \r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, personsToShow, setPersons, setNotificationPersonAndType}) => personsToShow.map(person =>\r\n    <Person \r\n        key={person.name}\r\n        person={person}\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        setNotificationPersonAndType={setNotificationPersonAndType}\r\n    />\r\n)\r\n\r\nexport default Persons","import React from 'react'\r\nimport personService from './../services/persons'\r\n\r\nconst PersonForm = ({newName, setNewName, newNumber, setNewNumber, persons, setPersons, setNotificationPersonAndType}) => {\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n    \r\n        const found = persons.find(element => element['name'] === newName)\r\n        if (found === undefined) {\r\n            personService\r\n            .create(personObject)\r\n            .then(returnedPerson => {\r\n                // console.log(response)\r\n                setPersons(persons.concat(returnedPerson))\r\n                setNotificationPersonAndType([returnedPerson, 'added'])\r\n                setTimeout(() => {\r\n                    setNotificationPersonAndType([null, null])\r\n                }, 3000)\r\n            })\r\n\r\n        } else {\r\n          window.alert(`${newName} is already added to phonebook`)\r\n        }\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n    \r\n    const handleNameChange = (event) => {\r\n        //console.log(event.target.value)\r\n        setNewName(event.target.value)\r\n    }\r\n    \r\n    const handleNumberChange = (event) => {\r\n        //console.log(event.target.value)\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input \r\n                value={newName} \r\n                onChange={handleNameChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                number: <input \r\n                value={newNumber} \r\n                onChange={handleNumberChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({props}) => {\r\n    const person = props[0]\r\n    const messageEnd = props[1]\r\n\r\n    if (person === null) {\r\n        return null\r\n    }\r\n\r\n    let backgroundColor = '#3da95c'\r\n\r\n    if (messageEnd === 'removed') {\r\n        backgroundColor = '#e74d3d'\r\n    } else if (messageEnd === 'updated') {\r\n        backgroundColor = '#3ea3ff'\r\n    }\r\n\r\n    const bg = '#888888'\r\n\r\n    const notificationStyle = {\r\n        color: 'white',\r\n        background: backgroundColor,\r\n        fontSize: 20,\r\n        borderRadius: 8,\r\n        padding: 10,\r\n        marginBottom: 20,\r\n        boxShadow: `3px 3px 8px ${bg}`\r\n    }\r\n    \r\n    \r\n    return (\r\n        <div style={notificationStyle}>\r\n            {person['name']} was {messageEnd}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n// import { notStrictEqual } from 'assert'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  // const [persons, setPersons] = useState([\r\n  //   { name: 'Arto Hellas', number: '040-123456' },\r\n  //   { name: 'Ada Lovelace', number: '39-44-5323523' },\r\n  //   { name: 'Dan Abramov', number: '12-43-234345' },\r\n  //   { name: 'Mary Poppendieck', number: '39-23-6423122' }\r\n  // ])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n  // const [ notificationPerson, setNotificationPerson ] = useState(null)\r\n  const [ notificationPersonAndType, setNotificationPersonAndType ] = useState([null, null])\r\n\r\n  useEffect(() => {\r\n    // console.log('effect')\r\n    personService\r\n      .getAll()\r\n      .then(intitialPersons => {\r\n        // console.log('promise fulfilled')\r\n        setPersons(intitialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const handleFilterChange = (event) => {\r\n      setNewFilter(event.target.value)\r\n  }\r\n\r\n  const personsToShow = persons.filter(person => person['name'].toLowerCase().includes(newFilter.toLowerCase()))\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n\r\n      <Notification \r\n        props={notificationPersonAndType}\r\n      />\r\n\r\n      <div>\r\n        filter shown with <input \r\n          value={newFilter} \r\n          onChange={handleFilterChange}\r\n        />\r\n      </div>\r\n      <h2>add a new</h2>\r\n      <PersonForm \r\n        newName={newName}\r\n        setNewName={setNewName}\r\n        newNumber={newNumber}\r\n        setNewNumber={setNewNumber}\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        setNotificationPersonAndType={setNotificationPersonAndType}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n          {<Persons \r\n            persons={persons}\r\n            personsToShow={personsToShow} \r\n            setPersons={setPersons}\r\n            setNotificationPersonAndType={setNotificationPersonAndType}\r\n          />}\r\n      </ul>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nconst notes = [\n  // ...\n]\n\nReactDOM.render(\n  <App notes={notes} />,\n  document.getElementById('root')\n)"],"sourceRoot":""}