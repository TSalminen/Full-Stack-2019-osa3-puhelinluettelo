(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(13),u=t.n(r),c=t(2),l=t(3),s=t.n(l),i="/api/persons",m=function(){return s.a.get(i).then((function(e){return e.data}))},d=function(e){return s.a.post(i,e).then((function(e){return e.data}))},f=function(e){var n=e.person;s.a.delete("".concat(i,"/").concat(n.id))},p=function(e){var n=e.person,t=e.persons,a=e.setPersons,r=e.setNotificationPersonAndType,u=n.id;return o.a.createElement("li",null,n.name,"\xa0",n.number,"\xa0",o.a.createElement("button",{onClick:function(){return function(){if(window.confirm("Delete ".concat(n.name)))try{f({person:n}),a(t.filter((function(e){return e.id!==u}))),r([n,"removed"]),setTimeout((function(){r([null,null])}),3e3)}catch(e){console.log("Request failed ".concat(e))}else console.log("not deleted")}()}},"delete"))},b=function(e){var n=e.persons,t=e.personsToShow,a=e.setPersons,r=e.setNotificationPersonAndType;return t.map((function(e){return o.a.createElement(p,{key:e.name,person:e,persons:n,setPersons:a,setNotificationPersonAndType:r})}))},v=function(e){var n=e.newName,t=e.setNewName,a=e.newNumber,r=e.setNewNumber,u=e.persons,c=e.setPersons,l=e.setNotificationPersonAndType;return o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var o={name:n,number:a};void 0===u.find((function(e){return e.name===n}))?d(o).then((function(e){c(u.concat(e)),l([e,"added"]),setTimeout((function(){l([null,null])}),3e3)})):window.alert("".concat(n," is already added to phonebook")),t(""),r("")}},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:n,onChange:function(e){t(e.target.value)}})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:a,onChange:function(e){r(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add")))},h=function(e){var n=e.props,t=n[0],a=n[1];if(null===t)return null;var r="#3da95c";"removed"===a?r="#e74d3d":"updated"===a&&(r="#3ea3ff");var u={color:"white",background:r,fontSize:20,borderRadius:8,padding:10,marginBottom:20,boxShadow:"3px 3px 8px ".concat("#888888")};return o.a.createElement("div",{style:u},t.name," was ",a)},w=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],r=n[1],u=Object(a.useState)(""),l=Object(c.a)(u,2),s=l[0],i=l[1],d=Object(a.useState)(""),f=Object(c.a)(d,2),p=f[0],w=f[1],E=Object(a.useState)(""),N=Object(c.a)(E,2),g=N[0],P=N[1],y=Object(a.useState)([null,null]),j=Object(c.a)(y,2),O=j[0],S=j[1];Object(a.useEffect)((function(){m().then((function(e){r(e)}))}),[]);var T=t.filter((function(e){return e.name.toLowerCase().includes(g.toLowerCase())}));return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(h,{props:O}),o.a.createElement("div",null,"filter shown with ",o.a.createElement("input",{value:g,onChange:function(e){P(e.target.value)}})),o.a.createElement("h2",null,"add a new"),o.a.createElement(v,{newName:s,setNewName:i,newNumber:p,setNewNumber:w,persons:t,setPersons:r,setNotificationPersonAndType:S}),o.a.createElement("h2",null,"Numbers"),o.a.createElement("ul",null,o.a.createElement(b,{persons:t,personsToShow:T,setPersons:r,setNotificationPersonAndType:S})))};u.a.render(o.a.createElement(w,{notes:[]}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.1072c687.chunk.js.map